"use strict";(self.webpackChunkocr_ai_tool=self.webpackChunkocr_ai_tool||[]).push([["118"],{9105:function(e,t,r){r.r(t),r.d(t,{getContentByFile:()=>u});var a=r(6775),l=r(7361),o=r.n(l),s=r(6595);let c=async e=>{let t=await fetch(e);if(!t.ok)throw console.error(`Failed to fetch the file: ${e}`),Error("Failed to fetch the file");let r=t.headers.get("content-type");return r?s.Z.getExtension(r):null},n=new a.Mistral({apiKey:"3QJuXwj8lFAYjXYSYWK69JIePfr2oZyy"}),i=async e=>{let t=await c(e);switch(t){case"pdf":return{type:"document_url",documentUrl:e};case"png":case"jpg":case"jpeg":return{type:"image_url",imageUrl:e};default:throw Error(`Unsupported file type - ${t}`)}},u=async e=>{let{prompt:t,schema:r=null,file:a}=e,l=[{type:"text",text:t},await i(a)];r&&l.push({type:"text",text:`### Output Format (JSON Schema): ${r}`});try{let e=await n.chat.complete({model:"mistral-small-latest",messages:[{role:"user",content:l}]});return o()(e,"choices[0].message.content")}catch(e){throw Error(`Error processing image: ${e.message}`)}}}}]);